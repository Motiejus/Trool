<% content_for :below_body do %>
<% end %>

<p id="notice"><%= notice %></p>


<h1> <%= @po.pot.title %> &#8594; <%= @po.lang %> </h1>

<div id="navigation_statuses">
  <ul>
    <li><a href="?" title="All messages">All</a></li>
    <li><a href="?show=translated" title="Translated messages">Translated</a></li>
    <li><a href="?show=untranslated" title="Untranslated messages">Untranslated/Unclear</a></li>
  </ul>
</div>

<table id="messages">
    <% @messages.each do |msg| %>
    <tr>
      <td class="msgid"><%= msg.msgid.gsub(/( +)/, '<span>\1</span>').html_safe.gsub(' ', 'Â·') %></td>
      <td class="msgstr">
        <%= form_for :msg, :url => po_message_url(@po, msg),
                     :remote => true, :html => { :method => :put } do |f| %>
             <%= f.text_field :msgstr, :id => "msgstr-text-#{msg.id}",
                         :class => "msgstr_textfield", :value => msg.msgstr %>
        <% end %>
        </td>
        <td class="msgstuff">
        <%= form_for :msg, :url => po_message_url(@po, msg),
                     :remote => true, :html => { :method => :put } do |f| %>
            <%= f.check_box :fuzzy, :id => "fuzzy-bool-#{msg.id}",
                             :value => msg.fuzzy %>
           <%= f.label :fuzzy %>
         <% end %>
      </td>
    </tr>
    <% end %>
</table>

<%= link_to 'Edit', edit_po_path(@po) %> |
<%= link_to 'Back', pos_path %>
<%= javascript_include_tag 'po' %>
